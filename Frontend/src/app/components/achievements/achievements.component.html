<div class="header-wrapper" *ngIf="user$ | async as user">
    <h2>{{user.firstName}} {{user.lastName}}</h2>
    <app-star-rating [currentLevel]="user.currentLevel" style="margin: 0;"></app-star-rating>
    <div class="image-wrapper">
        <img [src]="user.image" alt="">
    </div>
</div>
<div *ngIf="exercises$ | async as exercises;else notDoneAny">
    <div *ngIf="exercises && exercises.length > 0;else notDoneAny">
        <div class="checkpoint-container" *ngIf="exercises[0] && exercises[0].score;else notSubmitted1"
            [ngClass]="exercises[0] | score">
            <span>Level {{exercises[0].exerciseNumber}}</span>
            <span>{{exercises[0].score}} %</span>
        </div>
        <ng-template #notSubmitted1>
            <div class="checkpoint-container pending">
                <span>Level 1</span>
                <span>-</span>
            </div>
        </ng-template>
        <div class="checkpoint-container" *ngIf="exercises[1] && exercises[1].score;else notSubmitted2"
            [ngClass]="exercises[1] | score">
            <span>Level {{exercises[1].exerciseNumber}}</span>
            <span>{{exercises[1].score}} %</span>
        </div>
        <ng-template #notSubmitted2>
            <div class="checkpoint-container pending">
                <span>Level 2</span>
                <span>-</span>
            </div>
        </ng-template>
        <div class="checkpoint-container" *ngIf="exercises[2] && exercises[2].score;else notSubmitted3"
            [ngClass]="exercises[2] | score">
            <span>Level {{exercises[2].exerciseNumber}}</span>
            <span>{{exercises[2].score}} %</span>
        </div>
        <ng-template #notSubmitted3>
            <div class="checkpoint-container pending">
                <span>Level 3</span>
                <span>-</span>
            </div>
        </ng-template>
        <div class="checkpoint-container" *ngIf="exercises[3] && exercises[3].score;else notSubmitted4"
            [ngClass]="exercises[3] | score">
            <span>Level {{exercises[3].exerciseNumber}}</span>
            <span>{{exercises[3].score}} %</span>
        </div>
        <ng-template #notSubmitted4>
            <div class="checkpoint-container pending">
                <span>Level 4</span>
                <span>-</span>
            </div>
        </ng-template>
        <div class="checkpoint-container" *ngIf="exercises[4] && exercises[4].score;else notSubmitted5"
            [ngClass]="exercises[4] | score">
            <span>Level {{exercises[4].exerciseNumber}}</span>
            <span>{{exercises[4].score}} %</span>
        </div>
        <ng-template #notSubmitted5>
            <div class="checkpoint-container pending">
                <span>Level 5</span>
                <span>-</span>
            </div>
        </ng-template>
        <div class="button-container">
            <button [disabled]="disabled" (click)="logout()">Logout</button>
            <button [disabled]="disabled" class="revert-style" (click)="turnAllPagesBackward()">Profile</button>
        </div>
    </div>

</div>

<ng-template #notDoneAny>
    <div class="checkpoint-container pending">
        <span>Level 1</span>
        <span>-</span>
    </div>
    <div class="checkpoint-container pending">
        <span>Level 2</span>
        <span>-</span>
    </div>
    <div class="checkpoint-container pending">
        <span>Level 3</span>
        <span>-</span>
    </div>
    <div class="checkpoint-container pending">
        <span>Level 4</span>
        <span>-</span>
    </div>
    <div class="checkpoint-container pending">
        <span>Level 5</span>
        <span>-</span>
    </div>
    <div class="button-container">
        <button [disabled]="disabled" (click)="logout()">Logout</button>
        <button [disabled]="disabled" class="revert-style" (click)="turnAllPagesBackward()">Profile</button>
    </div>
</ng-template>